<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Agony | Outtype</title>
  <style>
    /* disable text selection */
    * {
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: black;
      color: white;
      position: relative;
    }

    .ambient-glow {
      position: absolute;
      top: -100px;
      left: -100px;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(255,255,255,0.1), transparent 70%);
      filter: blur(80px);
      pointer-events: none;
      z-index: 0;
    }

    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      overflow: visible;
    }

    .star {
      position: absolute;
      width: 2.5px;
      height: 2.5px;
      background: white;
      border-radius: 50%;
      filter:
        drop-shadow(0 0 6px white)
        drop-shadow(0 0 10px rgba(255,255,255,0.5));
      animation: twinkle 4s infinite ease-in-out alternate;
      will-change: transform, opacity;
      pointer-events: none;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.9; }
      50% { opacity: 0.3; }
    }

    /* shooting star style */
    .shooting-star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      opacity: 0;
      z-index: 2;
      box-shadow: 0 0 6px 2px white;
      animation: shoot 2s ease-out forwards;
      will-change: transform, opacity;
      pointer-events: none;
    }

    @keyframes shoot {
      0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(var(--dx), var(--dy)) scale(0.2);
      }
    }
  </style>
</head>
<body>

  <div class="ambient-glow"></div>
  <div class="stars" id="stars"></div>

  <script>
    const starContainer = document.getElementById('stars');
    const stars = [];
    const maxStars = 200;

    for(let i=0; i<maxStars; i++) {
      const star = document.createElement('div');
      star.className = 'star';

      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;

      const vx = (Math.random() - 0.5) * 0.07;
      const vy = (Math.random() - 0.5) * 0.07;

      star.style.animationDelay = `${Math.random() * 5}s`;

      starContainer.appendChild(star);

      stars.push({el: star, x, y, vx, vy});
    }

    let lastFrameTime = 0;
    const fpsInterval = 1000 / 50; // ~50 FPS

    function animateStars(timestamp = 0) {
      if (timestamp - lastFrameTime > fpsInterval) {
        stars.forEach(star => {
          star.x += star.vx;
          star.y += star.vy;

          if(star.x < 0 || star.x > window.innerWidth) star.vx *= -1;
          if(star.y < 0 || star.y > window.innerHeight) star.vy *= -1;

          star.el.style.transform = `translate(${star.x}px, ${star.y}px)`;
        });
        lastFrameTime = timestamp;
      }
      requestAnimationFrame(animateStars);
    }

    animateStars();

    function shootStar() {
      const star = document.createElement('div');
      star.className = 'shooting-star';

      const startX = Math.random() * window.innerWidth;
      const startY = Math.random() * window.innerHeight;
      const dx = (Math.random() - 0.5) * 1000;
      const dy = (Math.random() - 0.5) * 1000;

      star.style.top = `${startY}px`;
      star.style.left = `${startX}px`;
      star.style.setProperty('--dx', `${dx}px`);
      star.style.setProperty('--dy', `${dy}px`);

      document.body.appendChild(star);
      setTimeout(() => star.remove(), 2000);
    }

    setInterval(shootStar, 700);
  </script>

</body>
</html>

